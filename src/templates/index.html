<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3DVisCompanion</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='style.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='index.js') }}"></script>
    <script src="{{ url_for('static', filename='tab.js') }}" defer></script>
</head>
<body>
    <ul class="tabs">
        <li data-tab-target="#about" class="active tab">ABOUT</li>
        <li data-tab-target="#import" class="tab">IMPORT</li>
        <li data-tab-target="#model_management" class="tab">MODEL MANAGEMENT</li>
        <li data-tab-target="#scene_management" class="tab">SCENE MANAGEMENT</li>
        <li data-tab-target="#options" class="tab">OPTIONS</li>
    </ul>
    <div class="bg"></div>
    <img src="{{ url_for('static',filename='3DVis-transparent.png') }}">
    <p id="status"></p>
    <div class="tab-contents">

        <div id="about" data-tab-content class="active">
            <div class="vertical">
                <div class="horizontal relative">
                    <div class="nice">
                        <h1>ABOUT</h1>
                        <div class="inner">
                            <p>
                                3DVisCompanion is designed to enhance the 3DVis experience, making it easier to import and manage 3D models and scenes for use in CAVE2, while also offering customization options for 3DVis settings.
                                <br><br>
                                On the Import page, you can either upload a single selected model or import all models from a folder. When importing, 3DVisCompanion automatically converts the models into the .gltf format compatible with 3DVis, using Blender for the conversion process. Some models, especially those downloaded from online sources, may be incompatible with Blender and will fail to convert. The command prompt window displays the upload progress and any errors encountered during conversion.
                                <br><br>
                                The Model Management and Scene Management pages provide tables of all models and scenes accessible in 3DVis, allowing you to filter items by name or category. Each item includes options to rename, re-categorize, or delete it from the system.
                                <br><br>
                                The Options page allows you to adjust various 3DVis settings through sliders, including camera sensitivity and movement speed, along with a selection of graphical settings for performance optimization. Additional toggle options let you invert camera movement or hide UI elements for a cleaner showcase experience. Once settings are customized, you can save them, ensuring 3DVis applies the changes during use.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="import" data-tab-content>
            <div class="vertical">
                <div class="horizontal relative">
                    <div class="nice">
                        <h1>IMPORT</h1>
                        <div class="inner">
                            <p>
                                
                            </p>
                            <div class="flex-parent jc-center">
                                <form action="{{ url_for('import_file') }}" class="margin-right" method="post">
                                    <button type="submit" id="importButton">IMPORT MODEL</button>
                                </form>
            
                                <form action="{{ url_for('import_directory') }}" method="post">
                                    <button type="submit" id="importAllButton">IMPORT ALL FROM FOLDER</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="model_management" data-tab-content>
            <div class="vertical">
                <div class="horizontal relative">
                    <div class="nice">
                        <div class="corners">
                            <div class="inner">
                                <h1>MODELS</h1>
                                <div id="modelsFilterInput">
                                    <input type="text" id="modelnamefilter" class="filter" placeholder="NAME FILTER"></input><br>
                                    <input type="text" id="modelcategoryfilter" class="filter" placeholder="CATERGORY FILTER"></input>
                                </div>
                                <div>
                                    <table id="modelsTable">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Category</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Rows will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="scene_management" data-tab-content>
            <div class="vertical">
                <div class="horizontal relative">
                    <div class="nice">
                        <div class="corners">
                            <div class="inner">
                                <h1>SCENES</h1>
                                <div id="scenesFilterInput">
                                    <input type="text" id="scenenamefilter" class="filter" placeholder="NAME FILTER"></input><br>
                                    <input type="text" id="scenecategoryfilter" class="filter" placeholder="CATERGORY FILTER"></input>
                                </div>
                                <table id="scenesTable">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Category</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="options" data-tab-content>
            <div class="vertical">
                <div class="horizontal relative">
                    <div class="nice">
                        <div class="corners">
                            <div class="inner">
                                <h1>OPTIONS</h1>
                                    <div class="settings-container">
                                        <div class="setting-item">
                                            <label class="range" for="cameraSensitivity">Camera Sensitivity: <span id="cameraSensitivityValue">0.5</span></label>
                                            <input type="range" id="cameraSensitivity" min="0.1" max="1" step="0.01" value="0.5" oninput="$('#cameraSensitivityValue').text(this.value)">
                                        </div>
                                        <div class="setting-item">
                                            <label class="range" for="movementSpeed">Movement Speed: <span id="movementSpeedValue">0.5</span></label>
                                            <input type="range" id="movementSpeed" min="0.1" max="1" step="0.01" value="0.5" oninput="$('#movementSpeedValue').text(this.value)">
                                        </div>
                                        <div class="setting-item">
                                            <label class="range" for="positionSpeed">Position Speed: <span id="positionSpeedValue">0.5</span></label>
                                            <input type="range" id="positionSpeed" min="0.1" max="1" step="0.01" value="0.5" oninput="$('#positionSpeedValue').text(this.value)">
                                        </div>
                                        <div class="setting-item">
                                            <label class="range" for="rotationSpeed">Rotation Speed: <span id="rotationSpeedValue">0.5</span></label>
                                            <input type="range" id="rotationSpeed" min="0.1" max="1" step="0.01" value="0.5" oninput="$('#rotationSpeedValue').text(this.value)">
                                        </div>
                                        <div class="setting-item">
                                            <label class="range" for="scaleSpeed">Scale Speed: <span id="scaleSpeedValue">0.5</span></label>
                                            <input type="range" id="scaleSpeed" min="0.1" max="1" step="0.01" value="0.5" oninput="$('#scaleSpeedValue').text(this.value)">
                                        </div>
                                        <div class="setting-item">
                                            <label class="range" for="wandSmoothing">Wand Smoothing: <span id="wandSmoothingValue">20</span></label>
                                            <input type="range" id="wandSmoothing" min="5" max="100" step="0.1" value="20" oninput="$('#wandSmoothingValue').text(this.value)">
                                        </div>
                                        <div class="setting-item">
                                            <label class="range" for="renderDistance">Render Distance: <span id="renderDistanceValue">5000</span></label>
                                            <input type="range" id="renderDistance" min="1000" max="10000" step="1" value="5000" oninput="$('#renderDistanceValue').text(this.value)">
                                        </div>
                                        <div class="setting-item">
                                            <label class="range" for="graphicsQuality">Graphics Quality:</label>
                                            <select id="graphicsQuality">
                                                <option value="0">VERY LOW</option>
                                                <option value="1">LOW</option>
                                                <option value="2">MEDIUM</option>
                                                <option value="3">HIGH</option>
                                                <option value="4">VERY HIGH</option>
                                                <option value="5" selected>ULTRA</option>
                                            </select>
                                        </div>
                                        <div class="setting-item">
                                            <label>
                                                <input type="checkbox" id="invertCameraControls">
                                                Invert Camera Controls
                                            </label>
                                        </div>
                                        <div class="setting-item">
                                            <label>
                                                <input type="checkbox" id="hideControls">
                                                Hide Controls
                                            </label>
                                        </div>
                                    </div>
                                    <button id="saveButton">SAVE SETTINGS</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
